import requests
from google import genai
from flask import Flask, jsonify
from api import app



def get_response_and_update(id):
    url = f"http://127.0.0.1:5000/api/users/{id}"
    response = requests.get(url)
    data = response.json()
    user_input = data['input']
    client = genai.Client(api_key='YOUR_API_KEY')
    
    output = client.models.generate_content(
        model="gemini-2.0-flash",
        contents=f"Determine, in terms of a percentage, how likely it is that the following text was generated by artificial intelligence. Return just that percentage. Make sure to include the percentage sign, not just a number {user_input}"     
    )

    result_text = output.text.strip()

    patch_response = requests.patch(url, json={'result': result_text})
    
    
    




















